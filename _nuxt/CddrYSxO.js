const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B2oLfz_1.js","./rOQAQIVq.js","./CW02HToN.js","./drjBc_B-.js","./Dt2-asYT.js","./preview.CSFe8dwO.css","./DeBUWmvW.js","./DlAUqK2U.js","./Avatar.2LgtPqbx.css","./-ZT9qTXu.js","./ug01hfsv.js","./HeadingBio.FsOBOXf9.css","./C2JUSdfo.js","./Dyktc4iA.js","./DQGf34TW.js","./CqkleIqs.js","./useFormValidator.jl9ECbbX.css","./C3YKjzyC.js","./Primary.BqmH1Ikp.css","./D-y0II8N.js","./IconCta.Bx8FxAIg.css"])))=>i.map(i=>d[i]);
import{r as p,I as E,J as S,K as F,L as M,z as x,w as N,M as b,N as L,u as I,q as R,o as _,s as T,O as D,P as q,c as O,a as z,D as K,m as W,G as $}from"./rOQAQIVq.js";import{u as j,t as f,v as G,e as J}from"./CW02HToN.js";import{_ as U}from"./DlAUqK2U.js";import{_ as h}from"./Dt2-asYT.js";const Q=e=>e==="defer"||e===!1;function ie(...e){var B;const s=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(s);let[n,l,a={}]=e;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const t=j(),u=l,y=()=>f.value,H=()=>t.isHydrating?t.payload.data[n]:t.static.data[n];a.server=a.server??!0,a.default=a.default??y,a.getCachedData=a.getCachedData??H,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0,a.deep=a.deep??f.deep,a.dedupe=a.dedupe??"cancel";const m=a.getCachedData(n,t),g=m!=null;if(!t._asyncData[n]||!a.immediate){(B=t.payload._errors)[n]??(B[n]=f.errorValue);const i=a.deep?p:E;t._asyncData[n]={data:i(g?m:a.default()),pending:p(!g),error:S(t.payload._errors,n),status:p("idle"),_default:a.default}}const r={...t._asyncData[n]};delete r._default,r.refresh=r.execute=(i={})=>{if(t._asyncDataPromises[n]){if(Q(i.dedupe??a.dedupe))return t._asyncDataPromises[n];t._asyncDataPromises[n].cancelled=!0}if(i._initial||t.isHydrating&&i._initial!==!1){const c=i._initial?m:a.getCachedData(n,t);if(c!=null)return Promise.resolve(c)}r.pending.value=!0,r.status.value="pending";const d=new Promise((c,o)=>{try{c(u(t))}catch(v){o(v)}}).then(async c=>{if(d.cancelled)return t._asyncDataPromises[n];let o=c;a.transform&&(o=await a.transform(c)),a.pick&&(o=Y(o,a.pick)),t.payload.data[n]=o,r.data.value=o,r.error.value=f.errorValue,r.status.value="success"}).catch(c=>{if(d.cancelled)return t._asyncDataPromises[n];r.error.value=G(c),r.data.value=I(a.default()),r.status.value="error"}).finally(()=>{d.cancelled||(r.pending.value=!1,delete t._asyncDataPromises[n])});return t._asyncDataPromises[n]=d,t._asyncDataPromises[n]},r.clear=()=>X(t,n);const C=()=>r.refresh({_initial:!0}),P=a.server!==!1&&t.payload.serverRendered;{const i=F();if(i&&P&&a.immediate&&!i.sp&&(i.sp=[]),i&&!i._nuxtOnBeforeMountCbs){i._nuxtOnBeforeMountCbs=[];const o=i._nuxtOnBeforeMountCbs;M(()=>{o.forEach(v=>{v()}),o.splice(0,o.length)}),x(()=>o.splice(0,o.length))}P&&t.isHydrating&&(r.error.value||m!=null)?(r.pending.value=!1,r.status.value=r.error.value?"error":"success"):i&&(t.payload.serverRendered&&t.isHydrating||a.lazy)&&a.immediate?i._nuxtOnBeforeMountCbs.push(C):a.immediate&&C();const d=L();if(a.watch){const o=N(a.watch,()=>r.refresh());d&&b(o)}const c=t.hook("app:data:refresh",async o=>{(!o||o.includes(n))&&await r.refresh()});d&&b(c)}const w=Promise.resolve(t._asyncDataPromises[n]).then(()=>r);return Object.assign(w,r),w}function X(e,s){s in e.payload.data&&(e.payload.data[s]=void 0),s in e.payload._errors&&(e.payload._errors[s]=f.errorValue),e._asyncData[s]&&(e._asyncData[s].data.value=void 0,e._asyncData[s].error.value=f.errorValue,e._asyncData[s].pending.value=!1,e._asyncData[s].status.value="idle"),s in e._asyncDataPromises&&(e._asyncDataPromises[s]&&(e._asyncDataPromises[s].cancelled=!0),e._asyncDataPromises[s]=void 0)}function Y(e,s){const n={};for(const l of s)n[l]=e[l];return n}const V={};function Z(e,s){return _(),R("section",null,[T(e.$slots,"default",{},void 0,!0)])}const k=U(V,[["render",Z],["__scopeId","data-v-644db991"]]);V.__docgenInfo={displayName:"Wrapper",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/visity.me/visity.me/components/app/sections/Wrapper.vue"]};const A={HeadingBio:D(()=>h(()=>import("./B2oLfz_1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)),AppFormOptin:D(()=>h(()=>import("./C2JUSdfo.js"),__vite__mapDeps([12,13,14,1,7,15,16,17,18,2,3,4,5]),import.meta.url)),IconCta:D(()=>h(()=>import("./D-y0II8N.js"),__vite__mapDeps([19,9,1,2,3,4,5,7,20]),import.meta.url))},ee=()=>{const e=E(A);return{resolveComponent:n=>e.value[n]||null}},ae={__name:"ComponentResolver",props:{components:{type:Array,required:!0}},setup(e){const{resolveComponent:s}=ee();return(n,l)=>{const a=k;return _(!0),R($,null,q(e.components,(t,u)=>(_(),O(a,{key:u},{default:z(()=>[(_(),O(K(I(s)(t.type)),W({ref_for:!0},t.props),null,16))]),_:2},1024))),128)}}};ae.__docgenInfo={exportName:"default",displayName:"ComponentResolver",description:"",tags:{},props:[{name:"components",type:{name:"array"},required:!0}],sourceFiles:["/home/runner/work/visity.me/visity.me/components/template/ComponentResolver.vue"]};const te=e=>({type:"HeadingBio",props:e}),ce=J("components",()=>{const e=p([]);return{components:e,fetchComponents:async l=>{const a=await $fetch("/api/profile",{query:{username:l}});e.value=a.components||[]},createComponentFromValues:async(l,a)=>{if(a!=="HeadingBio")return;const t=te(l),u=e.value.findIndex(y=>y.type===t.type);u===-1?e.value.push(t):e.value[u]={...e.value[u],...t}}}});export{ae as _,ie as a,ee as b,ce as u};
